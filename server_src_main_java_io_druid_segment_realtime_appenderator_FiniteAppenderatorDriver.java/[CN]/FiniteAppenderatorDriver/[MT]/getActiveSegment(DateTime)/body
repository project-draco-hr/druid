{
synchronized (activeSegments) {
    final Map.Entry<Long,SegmentIdentifier> candidateEntry=activeSegments.floorEntry(timestamp.getMillis());
    if (candidateEntry != null && candidateEntry.getValue().getInterval().contains(timestamp)) {
      return candidateEntry.getValue();
    }
 else {
      return null;
    }
  }
}
