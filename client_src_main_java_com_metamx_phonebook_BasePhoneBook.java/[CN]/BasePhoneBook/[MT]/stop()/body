{
synchronized (lock) {
    started=false;
    for (    Map.Entry<String,Map<String,Object>> services : stoppedPages.getAnnouncements().entrySet()) {
      String serviceName=services.getKey();
      for (      String nodeName : services.getValue().keySet()) {
        actualPages.unannounce(serviceName,nodeName);
      }
    }
    for (    Map.Entry<String,PhoneBookPeon> listenerEntry : stoppedPages.getListeners().entries()) {
      actualPages.unregisterListener(listenerEntry.getKey(),listenerEntry.getValue());
    }
    actualPages.stop();
  }
}
