{
  final Map<String,Optional<TaskStatus>> statuses=getSameGroupChildStatuses(taskid);
  int nSuccesses=0;
  int nFailures=0;
  int nTotal=0;
  for (  final Optional<TaskStatus> statusOption : statuses.values()) {
    nTotal++;
    if (statusOption.isPresent()) {
      final TaskStatus status=statusOption.get();
      if (status.isSuccess()) {
        nSuccesses++;
      }
 else       if (status.isFailure()) {
        nFailures++;
      }
    }
  }
  final Optional<TaskStatus> status;
  if (nTotal == 0) {
    status=Optional.absent();
  }
 else   if (nSuccesses == nTotal) {
    status=Optional.of(TaskStatus.success(taskid));
  }
 else   if (nFailures > 0) {
    status=Optional.of(TaskStatus.failure(taskid));
  }
 else {
    status=Optional.of(TaskStatus.running(taskid));
  }
  return status;
}
