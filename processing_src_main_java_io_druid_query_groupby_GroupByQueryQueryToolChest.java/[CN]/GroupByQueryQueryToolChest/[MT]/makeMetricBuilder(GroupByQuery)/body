{
  int numMinutes=0;
  for (  Interval interval : query.getIntervals()) {
    numMinutes+=Minutes.minutesIn(interval).getMinutes();
  }
  return new ServiceMetricEvent.Builder().setUser2(query.getDataSource()).setUser3(String.format("%,d dims",query.getDimensions().size())).setUser4("groupBy").setUser5(Joiner.on(",").join(query.getIntervals())).setUser6(String.valueOf(query.hasFilters())).setUser7(String.format("%,d aggs",query.getAggregatorSpecs().size())).setUser9(Minutes.minutes(numMinutes).toString()).setUser10(query.getId());
}
