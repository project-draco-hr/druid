{
  Map<String,Object> metricValues=Maps.newLinkedHashMap();
  metricValues.put(dimSpec.getOutputName(),dimName);
  Iterator<AggregatorFactory> aggFactoryIter=aggFactories.iterator();
  for (  Object metricVal : metricVals) {
    metricValues.put(aggFactoryIter.next().getName(),metricVal);
  }
  for (  PostAggregator postAgg : postAggs) {
    if (postAgg.getName().equals(metricName)) {
      metricValues.put(postAgg.getName(),postAgg.compute(metricValues));
      break;
    }
  }
  Object topNMetricVal=metricValues.get(metricName);
  pQueue.add(new DimValHolder.Builder().withTopNMetricVal(topNMetricVal).withDirName(dimName).withDimValIndex(dimValIndex).withMetricValues(metricValues).build());
  return this;
}
