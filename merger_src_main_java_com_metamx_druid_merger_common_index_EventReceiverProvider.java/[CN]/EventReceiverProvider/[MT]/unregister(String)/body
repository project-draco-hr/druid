{
  final String service=serviceName(key);
  log.info("Unregistering event receiver: %s",key);
  final EventReceiver receiver=receivers.get(key);
  if (receiver == null) {
    log.warn("Receiver not currently registered, ignoring: %s",key);
  }
  try {
    serviceAnnouncer.unannounce(service);
  }
 catch (  Exception e) {
    log.warn(e,"Failed to unregister service: %s",service);
  }
  receivers.remove(key,receiver);
}
