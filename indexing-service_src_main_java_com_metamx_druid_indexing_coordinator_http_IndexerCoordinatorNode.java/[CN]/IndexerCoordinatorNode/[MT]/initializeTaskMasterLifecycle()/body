{
  if (taskMasterLifecycle == null) {
    final DruidNodeConfig nodeConfig=getConfigFactory().build(DruidNodeConfig.class);
    taskMasterLifecycle=new TaskMasterLifecycle(taskQueue,taskActionClientFactory,config,nodeConfig,taskRunnerFactory,resourceManagementSchedulerFactory,getCuratorFramework(),serviceAnnouncer,emitter);
    getLifecycle().addManagedInstance(taskMasterLifecycle);
  }
}
