{
  if (segmentAnnouncer == null) {
    final ZkSegmentAnnouncerConfig zkSegmentAnnouncerConfig=getConfigFactory().build(RealtimeZkSegmentAnnouncerConfig.class);
    segmentAnnouncer=new CuratorSegmentAnnouncer(zkSegmentAnnouncerConfig,getAnnouncer(),getJsonMapper());
    getLifecycle().addManagedInstance(segmentAnnouncer);
  }
}
