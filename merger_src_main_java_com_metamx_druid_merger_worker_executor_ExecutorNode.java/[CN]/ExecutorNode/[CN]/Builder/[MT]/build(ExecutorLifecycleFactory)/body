{
  if (jsonMapper == null && smileMapper == null) {
    jsonMapper=new DefaultObjectMapper();
    smileMapper=new DefaultObjectMapper(new SmileFactory());
    smileMapper.getJsonFactory().setCodec(smileMapper);
  }
 else   if (jsonMapper == null || smileMapper == null) {
    throw new ISE("Only jsonMapper[%s] or smileMapper[%s] was set, must set neither or both.",jsonMapper,smileMapper);
  }
  if (lifecycle == null) {
    lifecycle=new Lifecycle();
  }
  if (props == null) {
    props=Initialization.loadProperties();
  }
  if (configFactory == null) {
    configFactory=Config.createFactory(props);
  }
  return new ExecutorNode(props,lifecycle,jsonMapper,smileMapper,configFactory,executorLifecycleFactory);
}
