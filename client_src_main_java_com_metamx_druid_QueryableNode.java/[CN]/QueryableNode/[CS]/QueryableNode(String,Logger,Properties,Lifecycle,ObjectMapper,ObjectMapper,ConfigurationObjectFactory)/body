{
  super(Arrays.asList(jsonMapper,smileMapper));
  this.log=log;
  this.configFactory=configFactory;
  this.props=props;
  this.jsonMapper=jsonMapper;
  this.lifecycle=lifecycle;
  this.smileMapper=smileMapper;
  Preconditions.checkNotNull(props,"props");
  Preconditions.checkNotNull(lifecycle,"lifecycle");
  Preconditions.checkNotNull(jsonMapper,"jsonMapper");
  Preconditions.checkNotNull(smileMapper,"smileMapper");
  Preconditions.checkNotNull(configFactory,"configFactory");
  this.jsonConfigurator=new JsonConfigurator(jsonMapper,Validation.buildDefaultValidatorFactory().getValidator());
  Preconditions.checkState(smileMapper.getJsonFactory() instanceof SmileFactory,"smileMapper should use smile.");
  this.nodeType=nodeType;
}
