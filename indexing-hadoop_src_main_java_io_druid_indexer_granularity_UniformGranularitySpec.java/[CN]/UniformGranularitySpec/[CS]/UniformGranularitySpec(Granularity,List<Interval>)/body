{
  List<Interval> granularIntervals=Lists.newArrayList();
  if (inputIntervals != null) {
    for (    Interval inputInterval : inputIntervals) {
      Iterables.addAll(granularIntervals,granularity.getIterable(inputInterval));
    }
  }
  this.granularity=granularity;
  this.inputIntervals=inputIntervals == null ? Collections.EMPTY_LIST : ImmutableList.copyOf(inputIntervals);
  this.wrappedSpec=new ArbitraryGranularitySpec(granularIntervals);
}
