{
  final ServletContextHandler root=new ServletContextHandler(ServletContextHandler.SESSIONS);
  ServletHolder holderPwd=new ServletHolder("default",DefaultServlet.class);
  root.addServlet(holderPwd,"/");
  if (config.getConsoleStatic() == null) {
    root.setBaseResource(Resource.newClassPathResource("static"));
  }
 else {
    root.setResourceBase(config.getConsoleStatic());
  }
  JettyServerInitUtils.addExtensionFilters(root,injector);
  root.addFilter(JettyServerInitUtils.defaultGzipFilterHolder(),"/*",null);
  root.addFilter(GuiceFilter.class,"/status/*",null);
  root.addFilter(new FilterHolder(injector.getInstance(RedirectFilter.class)),"/*",null);
  root.addFilter(GuiceFilter.class,"/info/*",null);
  root.addFilter(GuiceFilter.class,"/druid/coordinator/*",null);
  root.addFilter(GuiceFilter.class,"/coordinator/*",null);
  HandlerList handlerList=new HandlerList();
  handlerList.setHandlers(new Handler[]{root});
  server.setHandler(handlerList);
}
