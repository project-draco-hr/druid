{
  try (final ResourceHolder<BufferRecycler> bufferRecycler=CompressedPools.getBufferRecycler()){
    return LZFEncoder.encode(bytes,0,bytes.length,bufferRecycler.get());
  }
 catch (  IOException e) {
    log.error(e,"Error compressing data");
    throw Throwables.propagate(e);
  }
}
