{
  final byte[] bytes=new byte[numBytes];
  in.get(bytes);
  try (final ResourceHolder<byte[]> outputBytesHolder=CompressedPools.getOutputBytes()){
    final byte[] outputBytes=outputBytesHolder.get();
    final int numDecompressedBytes=lz4Safe.decompress(bytes,outputBytes);
    out.put(outputBytes,0,numDecompressedBytes);
    out.flip();
  }
 catch (  IOException e) {
    log.error(e,"IOException thrown while closing ChunkEncoder.");
  }
}
