{
  final String automotiveSnowman="automotive???";
  Map<String,Set<String>> expectedResults=Maps.newTreeMap(String.CASE_INSENSITIVE_ORDER);
  expectedResults.put(QueryRunnerTestHelper.qualityDimension,new HashSet<String>(Arrays.asList(automotiveSnowman)));
  final LookupExtractionFn lookupExtractionFn=new LookupExtractionFn(new MapLookupExtractor(ImmutableMap.of("automotive",automotiveSnowman)),true,null,true,false);
  checkSearchQuery(Druids.newSearchQueryBuilder().dataSource(QueryRunnerTestHelper.dataSource).granularity(QueryRunnerTestHelper.allGran).filters(new ExtractionDimFilter(QueryRunnerTestHelper.qualityDimension,automotiveSnowman,lookupExtractionFn,null)).intervals(QueryRunnerTestHelper.fullOnInterval).dimensions(new ExtractionDimensionSpec(QueryRunnerTestHelper.qualityDimension,null,lookupExtractionFn,null)).query("???").build(),expectedResults);
}
