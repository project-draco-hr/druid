{
  final ObjectMapper objectMapper=new DefaultObjectMapper();
  final String json="{ \"type\" : \"javascript\", \"function\" : \"function(str) { return str.substring(0,3); }\" }";
  JavascriptExtractionFn extractionFn=(JavascriptExtractionFn)objectMapper.readValue(json,ExtractionFn.class);
  Assert.assertEquals("function(str) { return str.substring(0,3); }",extractionFn.getFunction());
  Assert.assertEquals(extractionFn,objectMapper.readValue(objectMapper.writeValueAsBytes(extractionFn),ExtractionFn.class));
}
