{
  final QueuedThreadPool threadPool=new QueuedThreadPool();
  threadPool.setMinThreads(config.getNumThreads());
  threadPool.setMaxThreads(config.getNumThreads());
  final Server server=new Server();
  server.setThreadPool(threadPool);
  SelectChannelConnector connector=new SelectChannelConnector();
  connector.setPort(config.getPort());
  connector.setMaxIdleTime(config.getMaxIdleTimeMillis());
  connector.setStatsOn(true);
  server.setConnectors(new Connector[]{connector});
  return server;
}
