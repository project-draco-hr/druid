{
  if (config.getServiceName() == null) {
    return new ServiceProvider(){
      @Override public void start() throws Exception {
      }
      @Override public ServiceInstance getInstance() throws Exception {
        return null;
      }
      @Override public void close() throws IOException {
      }
    }
;
  }
  return serviceDiscovery.serviceProviderBuilder().serviceName(config.getServiceName()).build();
}
