{
  final BufferAggregator aggregator=delegate.factorizeBuffered(metricFactory);
  final DimensionSelector dimSelector=metricFactory.makeDimensionSelector(((SelectorDimFilter)filter).getDimension());
  Predicate<String> predicate=Predicates.equalTo(((SelectorDimFilter)filter).getValue());
  return new FilteredBufferAggregator(dimSelector,predicate,aggregator);
}
