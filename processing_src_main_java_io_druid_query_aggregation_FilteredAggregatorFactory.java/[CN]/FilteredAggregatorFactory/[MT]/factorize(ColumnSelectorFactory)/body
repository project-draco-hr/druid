{
  final Aggregator aggregator=delegate.factorize(metricFactory);
  final DimensionSelector dimSelector=metricFactory.makeDimensionSelector(((SelectorDimFilter)filter).getDimension());
  Predicate<Integer> predicate=Predicates.equalTo(dimSelector.lookupId(((SelectorDimFilter)filter).getValue()));
  return new FilteredAggregator(name,dimSelector,predicate,aggregator);
}
