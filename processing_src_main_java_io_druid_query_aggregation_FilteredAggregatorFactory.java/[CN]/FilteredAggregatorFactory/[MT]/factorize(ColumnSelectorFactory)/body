{
  final Aggregator aggregator=delegate.factorize(metricFactory);
  final DimensionSelector dimSelector=metricFactory.makeDimensionSelector(((SelectorDimFilter)filter).getDimension());
  final int lookupId=dimSelector.lookupId(((SelectorDimFilter)filter).getValue());
  final IntPredicate predicate=new IntPredicate(){
    @Override public boolean apply(    int value){
      return lookupId == value;
    }
  }
;
  return new FilteredAggregator(name,dimSelector,predicate,aggregator);
}
