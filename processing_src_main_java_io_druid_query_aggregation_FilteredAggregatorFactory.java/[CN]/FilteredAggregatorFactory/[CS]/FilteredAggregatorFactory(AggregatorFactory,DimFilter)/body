{
  Preconditions.checkNotNull(delegate);
  Preconditions.checkNotNull(filter);
  Preconditions.checkArgument(filter instanceof SelectorDimFilter || (filter instanceof NotDimFilter && ((NotDimFilter)filter).getField() instanceof SelectorDimFilter),"FilteredAggregator currently only supports filters of type 'selector' and their negation");
  this.delegate=delegate;
  this.filter=filter;
}
