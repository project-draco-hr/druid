{
  return new BitmapIndex(){
    @Override public int getCardinality(){
      return dictionary.size();
    }
    @Override public String getValue(    int index){
      return dictionary.get(index);
    }
    @Override public boolean hasNulls(){
      return dictionary.indexOf(null) >= 0;
    }
    @Override public ImmutableConciseSet getConciseSet(    String value){
      final int index=dictionary.indexOf(value);
      return getConciseSet(index);
    }
    @Override public ImmutableConciseSet getConciseSet(    int idx){
      if (idx < 0) {
        return EMPTY_SET;
      }
      final ImmutableConciseSet bitmap=bitmaps.get(idx);
      return bitmap == null ? EMPTY_SET : bitmap;
    }
  }
;
}
