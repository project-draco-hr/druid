{
  LogLevelAdjuster.register();
  if (args.length != 3) {
    log.info("Usage: ExecutorMain <nodeType> <task.json> <status.json>");
    System.exit(2);
  }
  Iterator<String> arguments=Arrays.asList(args).iterator();
  final String nodeType=arguments.next();
  final String taskJsonFile=arguments.next();
  final String statusJsonFile=arguments.next();
  final ExecutorNode node=ExecutorNode.builder().build(nodeType,new ExecutorLifecycleFactory(new File(taskJsonFile),new File(statusJsonFile),System.in));
  final Lifecycle lifecycle=new Lifecycle();
  lifecycle.addManagedInstance(node);
  try {
    lifecycle.start();
    node.join();
    lifecycle.stop();
  }
 catch (  Throwable t) {
    log.info(t,"Throwable caught at startup, committing seppuku");
    System.exit(2);
  }
}
