{
  int ret=1;
  while (getSerializedSize(bitsPerValue,ret) <= blockSize) {
    ret*=2;
  }
  return ret / 2;
}
