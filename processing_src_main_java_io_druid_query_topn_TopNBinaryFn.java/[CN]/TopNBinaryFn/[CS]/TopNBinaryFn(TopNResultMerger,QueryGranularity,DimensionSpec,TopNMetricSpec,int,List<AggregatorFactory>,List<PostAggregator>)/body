{
  this.merger=merger;
  this.dimSpec=dimSpec;
  this.gran=granularity;
  this.topNMetricSpec=topNMetricSpec;
  this.threshold=threshold;
  this.aggregations=aggregatorSpecs;
  this.dimensionSpec=dimSpec;
  this.postAggregations=AggregatorUtil.pruneDependentPostAgg(postAggregatorSpecs,this.topNMetricSpec.getMetricName(this.dimensionSpec));
  this.comparator=topNMetricSpec.getComparator(aggregatorSpecs,postAggregatorSpecs);
}
