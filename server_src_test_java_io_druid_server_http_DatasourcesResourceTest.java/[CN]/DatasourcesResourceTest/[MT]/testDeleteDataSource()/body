{
  MetadataSegmentManager databaseSegmentManager=EasyMock.createStrictMock(MetadataSegmentManager.class);
  EasyMock.expect(databaseSegmentManager.removeDatasource("datasource1")).andReturn(true).atLeastOnce();
  EasyMock.replay(server,databaseSegmentManager);
  DatasourcesResource datasourcesResource=new DatasourcesResource(null,databaseSegmentManager,null);
  Response response=datasourcesResource.deleteDataSource("datasource1");
  Assert.assertEquals(200,response.getStatus());
  Assert.assertEquals(null,response.getEntity());
  EasyMock.verify(databaseSegmentManager,server);
}
