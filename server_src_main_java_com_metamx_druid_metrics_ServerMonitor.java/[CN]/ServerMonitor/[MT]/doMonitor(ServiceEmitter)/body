{
  emitter.emit(new ServiceMetricEvent.Builder().build("server/segment/max",druidServer.getMaxSize()));
  for (  Map.Entry<String,Long> entry : serverManager.getDataSourceSizes().entrySet()) {
    String dataSource=entry.getKey();
    long used=entry.getValue();
    emitter.emit(new ServiceMetricEvent.Builder().setUser1(dataSource).build("server/segment/used",used));
  }
  for (  Map.Entry<String,Long> entry : serverManager.getDataSourceCounts().entrySet()) {
    String dataSource=entry.getKey();
    long count=entry.getValue();
    emitter.emit(new ServiceMetricEvent.Builder().setUser1(dataSource).build("server/segment/count",count));
  }
  return true;
}
