{
  try {
    StatusResponseHolder response=httpClient.post(new URL(getURL())).setContent(MediaType.APPLICATION_JSON,this.jsonMapper.writeValueAsBytes(events)).go(responseHandler).get();
    if (!response.getStatus().equals(HttpResponseStatus.OK)) {
      throw new ISE("Error while posting events to url[%s] status[%s] content[%s]",getURL(),response.getStatus(),response.getContent());
    }
    Map<String,Integer> responseData=jsonMapper.readValue(response.getContent(),new TypeReference<Map<String,Integer>>(){
    }
);
    return responseData.get("eventCount");
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}
