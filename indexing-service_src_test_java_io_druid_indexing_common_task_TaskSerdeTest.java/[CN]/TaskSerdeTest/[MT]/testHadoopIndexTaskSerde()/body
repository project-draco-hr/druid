{
  final HadoopIndexTask task=new HadoopIndexTask(null,new HadoopDruidIndexerSchema("foo",new TimestampSpec("timestamp","auto"),new JSONDataSpec(ImmutableList.of("foo"),null),new UniformGranularitySpec(Granularity.DAY,ImmutableList.of(new Interval("2010-01-01/P1D"))),ImmutableMap.<String,Object>of("paths","bar"),null,null,null,null,false,true,null,false,new DataRollupSpec(ImmutableList.<AggregatorFactory>of(),QueryGranularity.NONE),null,false,null,null),null);
  final ObjectMapper jsonMapper=new DefaultObjectMapper();
  final String json=jsonMapper.writeValueAsString(task);
  final HadoopIndexTask task2=(HadoopIndexTask)jsonMapper.readValue(json,Task.class);
  Assert.assertEquals("foo",task.getDataSource());
  Assert.assertEquals(task.getId(),task2.getId());
  Assert.assertEquals(task.getGroupId(),task2.getGroupId());
  Assert.assertEquals(task.getDataSource(),task2.getDataSource());
}
