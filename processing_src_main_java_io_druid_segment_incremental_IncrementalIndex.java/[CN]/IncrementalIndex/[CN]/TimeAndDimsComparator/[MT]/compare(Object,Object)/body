{
  TimeAndDims lhs=(TimeAndDims)o1;
  TimeAndDims rhs=(TimeAndDims)o2;
  int retVal=Longs.compare(lhs.timestamp,rhs.timestamp);
  if (retVal == 0) {
    retVal=Ints.compare(lhs.dims.length,rhs.dims.length);
  }
  int index=0;
  while (retVal == 0 && index < lhs.dims.length) {
    int[] lhsIndexes=lhs.dims[index];
    int[] rhsIndexes=rhs.dims[index];
    if (lhsIndexes == null) {
      if (rhsIndexes == null) {
        ++index;
        continue;
      }
      return -1;
    }
    if (rhsIndexes == null) {
      return 1;
    }
    retVal=Ints.compare(lhsIndexes.length,rhsIndexes.length);
    int valsIndex=0;
    DimDim dimDim=incrementalIndex.getDimension(incrementalIndex.dimensions.get(index));
    while (retVal == 0 && valsIndex < lhsIndexes.length) {
      retVal=incrementalIndex.getDimValue(dimDim,lhsIndexes[valsIndex]).compareTo(incrementalIndex.getDimValue(dimDim,rhsIndexes[valsIndex]));
      ++valsIndex;
    }
    ++index;
  }
  return retVal;
}
