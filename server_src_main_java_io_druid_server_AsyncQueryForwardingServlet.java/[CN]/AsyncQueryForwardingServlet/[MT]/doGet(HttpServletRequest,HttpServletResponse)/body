{
  final AsyncContext asyncContext=req.startAsync(req,res);
  asyncContext.setTimeout(config.getMaxIdleTime().toStandardDuration().getMillis());
  asyncContext.start(new Runnable(){
    @Override public void run(){
      try {
        final HttpResponseHandler<OutputStream,OutputStream> responseHandler=new PassthroughHttpResponseHandler(asyncContext,jsonMapper);
        final String host=hostFinder.getDefaultHost();
        routingDruidClient.get(makeUrl(host,(HttpServletRequest)asyncContext.getRequest()),responseHandler);
      }
 catch (      Exception e) {
        handleException(jsonMapper,asyncContext,e);
      }
    }
  }
);
}
