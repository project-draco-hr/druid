{
  if (directionObj == null) {
    return null;
  }
  String directionString=directionObj.toString();
  Direction direction=stupidEnumMap.get(directionString);
  if (direction == null) {
    final String lowerDimension=directionString.toLowerCase();
    for (    Direction dir : Direction.values()) {
      if (dir.toString().toLowerCase().startsWith(lowerDimension)) {
        if (direction != null) {
          throw new ISE("Ambiguous directions[%s] and [%s]",direction,dir);
        }
        direction=dir;
      }
    }
  }
  if (direction == null) {
    throw new IAE("Unknown direction[%s]",directionString);
  }
  return direction;
}
