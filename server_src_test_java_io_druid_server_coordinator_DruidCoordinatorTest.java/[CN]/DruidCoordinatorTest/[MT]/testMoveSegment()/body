{
  EasyMock.expect(druidServer.toImmutableDruidServer()).andReturn(new ImmutableDruidServer(new DruidServerMetadata("blah",null,5L,null,null,0),1L,null,ImmutableMap.of("dummySegment",segment))).atLeastOnce();
  EasyMock.replay(druidServer);
  loadManagementPeons.put("to",loadQueuePeon);
  loadManagementPeons.put("from",loadQueuePeon);
  EasyMock.expect(loadQueuePeon.getLoadQueueSize()).andReturn(new Long(1));
  EasyMock.replay(loadQueuePeon);
  EasyMock.expect(serverInventoryView.getInventoryValue("from")).andReturn(druidServer);
  EasyMock.expect(serverInventoryView.getInventoryValue("to")).andReturn(druidServer);
  EasyMock.expect(serverInventoryView.getInventoryManagerConfig()).andReturn(new InventoryManagerConfig(){
    @Override public String getContainerPath(){
      return "";
    }
    @Override public String getInventoryPath(){
      return "";
    }
  }
);
  EasyMock.replay(serverInventoryView);
  coordinator.moveSegment("from","to","dummySegment",null);
}
