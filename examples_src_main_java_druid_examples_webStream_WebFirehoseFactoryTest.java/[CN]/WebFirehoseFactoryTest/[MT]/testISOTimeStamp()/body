{
  WebFirehoseFactory webbie4=new WebFirehoseFactory(new UpdateStreamFactory(){
    @Override public UpdateStream build(){
      return new UpdateStream(){
        @Override public Map<String,Object> pollFromQueue(        long waitTime,        TimeUnit unit) throws InterruptedException {
          return ImmutableMap.<String,Object>of("item1","value1","item2",2,"time","2013-07-08");
        }
        @Override public String getTimeDimension(){
          return "time";
        }
        @Override public void run(){
        }
      }
;
    }
  }
,"auto");
  Firehose firehose1=webbie4.connect();
  if (firehose1.hasMore()) {
    long milliSeconds=firehose1.nextRow().getTimestampFromEpoch();
    DateTime date=new DateTime("2013-07-08");
    Assert.assertEquals(date.getMillis(),milliSeconds);
  }
 else {
    Assert.assertFalse("hasMore returned false",true);
  }
}
