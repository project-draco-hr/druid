{
  if (taskMasterLifecycle == null) {
    final ServiceDiscoveryConfig serviceDiscoveryConfig=configFactory.build(ServiceDiscoveryConfig.class);
    taskMasterLifecycle=new TaskMasterLifecycle(taskQueue,new LocalTaskActionClientFactory(taskStorage,new TaskActionToolbox(taskQueue,taskLockbox,mergerDBCoordinator,emitter)),config,serviceDiscoveryConfig,taskRunnerFactory,resourceManagementSchedulerFactory,curatorFramework,emitter);
    lifecycle.addManagedInstance(taskMasterLifecycle);
  }
}
