{
  int cost=0;
  for (  ServerHolder server : serverHolderList) {
    DataSegment[] segments=server.getServer().getSegments().values().toArray(new DataSegment[]{});
    for (int i=0; i < segments.length; ++i) {
      for (int j=i; j < segments.length; ++j) {
        cost+=computeJointSegmentCosts(segments[i],segments[j]);
      }
    }
  }
  return cost;
}
