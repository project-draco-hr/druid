{
  cf.create().creatingParentsIfNeeded().forPath(String.format("%s/worker1/task1",statusPath),jsonMapper.writeValueAsBytes(TaskStatus.success("task1")));
  int count=0;
  while (!remoteTaskRunner.isTaskRunning("task1")) {
    Thread.sleep(500);
    if (count > 10) {
      throw new ISE("WTF?! Task still not announced in ZK?");
    }
    count++;
  }
  final MutableBoolean callbackCalled=new MutableBoolean(false);
  remoteTaskRunner.run(task1,null,new TaskCallback(){
    @Override public void notify(    TaskStatus status){
      callbackCalled.setValue(true);
    }
  }
);
  Assert.assertTrue("TaskCallback was not called!",callbackCalled.booleanValue());
}
