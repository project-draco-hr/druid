{
  factory.setHost(consumerProps.getProperty("host",factory.getHost()));
  factory.setPort(Integer.parseInt(consumerProps.getProperty("port",Integer.toString(factory.getPort()))));
  factory.setUsername(consumerProps.getProperty("username",factory.getUsername()));
  factory.setPassword(consumerProps.getProperty("password",factory.getPassword()));
  factory.setVirtualHost(consumerProps.getProperty("virtualHost",factory.getVirtualHost()));
  if (consumerProps.containsKey("uri")) {
    try {
      factory.setUri(consumerProps.getProperty("uri"));
    }
 catch (    Exception e) {
      Throwables.propagateIfPossible(e,IOException.class);
      throw Throwables.propagate(e);
    }
  }
}
