{
  if (currentlyProcessing != null) {
switch (currentlyProcessing.getType()) {
case LOAD:
      segmentsToLoad.remove(currentlyProcessing);
    queuedSize.addAndGet(-currentlyProcessing.getSegmentSize());
  break;
case DROP:
segmentsToDrop.remove(currentlyProcessing);
break;
default :
throw new UnsupportedOperationException();
}
currentlyProcessing.executeCallbacks();
currentlyProcessing=null;
}
}
