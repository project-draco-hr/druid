{
  super(id != null ? id : String.format("index_%s_%s",dataSource,new DateTime().toString()),dataSource,new Interval(granularitySpec.bucketIntervals().first().getStart(),granularitySpec.bucketIntervals().last().getEnd()));
  this.granularitySpec=Preconditions.checkNotNull(granularitySpec,"granularitySpec");
  this.spatialDimensions=(spatialDimensions == null) ? Lists.<SpatialDimensionSchema>newArrayList() : spatialDimensions;
  this.aggregators=aggregators;
  this.indexGranularity=(indexGranularity == null) ? QueryGranularity.NONE : indexGranularity;
  this.targetPartitionSize=targetPartitionSize;
  this.firehoseFactory=firehoseFactory;
  this.rowFlushBoundary=rowFlushBoundary;
}
