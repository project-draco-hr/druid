{
  super(id != null ? id : String.format("index_hadoop_%s_%s",getTheDataSource(spec,config),new DateTime()),getTheDataSource(spec,config));
  this.spec=spec == null ? config : spec;
  Preconditions.checkArgument(this.spec.getIOConfig().getSegmentOutputPath() == null,"segmentOutputPath must be absent");
  Preconditions.checkArgument(this.spec.getTuningConfig().getWorkingPath() == null,"workingPath must be absent");
  Preconditions.checkArgument(this.spec.getIOConfig().getMetadataUpdateSpec() == null,"updaterJobSpec must be absent");
  if (hadoopDependencyCoordinates != null) {
    this.hadoopDependencyCoordinates=hadoopDependencyCoordinates;
  }
 else   if (hadoopCoordinates != null) {
    this.hadoopDependencyCoordinates=ImmutableList.of(hadoopCoordinates);
  }
 else {
    this.hadoopDependencyCoordinates=null;
  }
  this.classpathPrefix=classpathPrefix;
}
