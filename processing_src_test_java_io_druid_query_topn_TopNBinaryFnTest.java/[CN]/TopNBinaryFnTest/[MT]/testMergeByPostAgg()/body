{
  Result<TopNResultValue> result1=new Result<TopNResultValue>(currTime,new TopNResultValue(ImmutableList.<Map<String,Object>>of(ImmutableMap.<String,Object>of("rows",1L,"index",2L,"testdim","1"),ImmutableMap.<String,Object>of("rows",2L,"index",4L,"testdim","2"),ImmutableMap.<String,Object>of("rows",0L,"index",2L,"testdim","3"))));
  Result<TopNResultValue> result2=new Result<TopNResultValue>(currTime,new TopNResultValue(ImmutableList.<Map<String,Object>>of(ImmutableMap.<String,Object>of("rows",2L,"index",3L,"testdim","1"),ImmutableMap.<String,Object>of("rows",2L,"index",0L,"testdim","2"),ImmutableMap.<String,Object>of("rows",4L,"index",5L,"testdim","other"))));
  Result<TopNResultValue> expected=new Result<TopNResultValue>(currTime,new TopNResultValue(ImmutableList.<Map<String,Object>>of(ImmutableMap.<String,Object>of("testdim","other","rows",4L,"index",5L,"addrowsindexconstant",10.0),ImmutableMap.<String,Object>of("testdim","1","rows",3L,"index",5L,"addrowsindexconstant",9.0),ImmutableMap.<String,Object>of("testdim","2","rows",4L,"index",4L,"addrowsindexconstant",9.0))));
  Result<TopNResultValue> actual=new TopNBinaryFn(TopNResultMerger.identity,QueryGranularity.ALL,new DefaultDimensionSpec("testdim",null),new NumericTopNMetricSpec("addrowsindexconstant"),3,aggregatorFactories,postAggregators).apply(result1,result2);
  Assert.assertEquals(expected.getTimestamp(),actual.getTimestamp());
  assertTopNMergeResult(expected.getValue(),actual.getValue());
}
