{
  if (dimValue == null) {
    return null;
  }
  String retVal;
  Matcher matcher=pattern.matcher(dimValue);
  if (matcher.find()) {
    retVal=matcher.group(1);
  }
 else {
    retVal=replaceMissingValues ? replaceMissingValuesWith : dimValue;
  }
  return Strings.emptyToNull(retVal);
}
