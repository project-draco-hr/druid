{
  int startIndex=startOffset;
  int endIndex=endOffset;
  if (index.timeOffsets[startIndex] < startMillis) {
    startIndex=Math.abs(Arrays.binarySearch(index.timeOffsets,startMillis));
    if (startIndex >= endOffset) {
      return new Pair<Integer,Integer>(0,0);
    }
    while (startIndex > 0 && index.timeOffsets[startIndex - 1] == startMillis) {
      --startIndex;
    }
  }
  if (index.timeOffsets[endIndex - 1] >= endMillis) {
    endIndex=Math.abs(Arrays.binarySearch(index.timeOffsets,endMillis));
    while (endIndex > startIndex && index.timeOffsets[endIndex - 1] == endMillis) {
      --endIndex;
    }
  }
  return new Pair<Integer,Integer>(startIndex,endIndex);
}
