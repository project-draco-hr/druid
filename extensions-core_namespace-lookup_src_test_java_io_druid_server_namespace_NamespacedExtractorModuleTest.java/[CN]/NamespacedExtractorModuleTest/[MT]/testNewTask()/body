{
  final File tmpFile=temporaryFolder.newFile();
  try (OutputStreamWriter out=new FileWriter(tmpFile)){
    out.write(mapper.writeValueAsString(ImmutableMap.<String,String>of("foo","bar")));
  }
   final URIExtractionNamespaceFunctionFactory factory=new URIExtractionNamespaceFunctionFactory(ImmutableMap.<String,SearchableVersionedDataFinder>of("file",new LocalFileTimestampVersionFinder()));
  final URIExtractionNamespace namespace=new URIExtractionNamespace("ns",tmpFile.toURI(),null,null,new URIExtractionNamespace.ObjectMapperFlatDataParser(URIExtractionNamespaceTest.registerTypes(new DefaultObjectMapper())),new Period(0),null);
  Map<String,String> map=new HashMap<>();
  factory.getCachePopulator(namespace,null,map).call();
  Assert.assertEquals("bar",map.get("foo"));
  Assert.assertEquals(null,map.get("baz"));
}
