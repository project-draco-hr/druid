{
  final HyperUniquesAggregator agg=new HyperUniquesAggregator("abc",new ObjectColumnSelector(){
    @Override public Class classOfObject(){
      return HyperLogLogCollector.class;
    }
    @Override public Object get(){
      return collector;
    }
  }
);
  for (int i=0; i < 1000; i++) {
    collector=HyperLogLogCollector.makeLatestCollector();
    collector.add(fn.hashInt(i).asBytes());
    agg.aggregate();
  }
  final HyperLogLogCollector collector=HyperLogLogCollector.makeCollector(((HyperLogLogCollector)agg.get()).toByteBuffer());
  System.out.println(collector.estimateCardinality());
}
