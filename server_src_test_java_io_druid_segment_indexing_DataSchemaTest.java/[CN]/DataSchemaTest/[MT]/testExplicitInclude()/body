{
  DataSchema schema=new DataSchema("test",new StringInputRowParser(new JSONParseSpec(new TimestampSpec("time","auto",null),new DimensionsSpec(ImmutableList.of("time","dimA","dimB","col2"),ImmutableList.of("dimC"),null))),new AggregatorFactory[]{new DoubleSumAggregatorFactory("metric1","col1"),new DoubleSumAggregatorFactory("metric2","col2")},new ArbitraryGranularitySpec(QueryGranularity.DAY,ImmutableList.of(Interval.parse("2014/2015"))));
  Assert.assertEquals(ImmutableSet.of("dimC","col1"),schema.getParser().getParseSpec().getDimensionsSpec().getDimensionExclusions());
}
