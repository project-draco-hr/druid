{
  if (index < 0) {
    throw new IAE("Index[%s] < 0",index);
  }
  if (index >= size) {
    throw new IAE(String.format("Index[%s] >= size[%s]",index,size));
  }
  if (cacheable) {
    final T cached=cachedValues.get().get(index);
    if (cached != null) {
      return cached;
    }
  }
  final int startOffset;
  final int endOffset;
  if (index == 0) {
    startOffset=4;
    endOffset=theBuffer.getInt(indexOffset);
  }
 else {
    final int position=indexOffset + ((index - 1) * 4);
    startOffset=theBuffer.getInt(position) + 4;
    endOffset=theBuffer.getInt(position + Ints.BYTES);
  }
  if (startOffset == endOffset) {
    return null;
  }
  final ByteBuffer copyBuffer=this.theBuffer.asReadOnlyBuffer();
  copyBuffer.position(valuesOffset + startOffset);
  final int size=endOffset - startOffset;
  final T value=strategy.fromByteBuffer(copyBuffer,size);
  if (cacheable) {
    cachedValues.get().put(index,value,size);
  }
  return value;
}
