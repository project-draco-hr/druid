{
  log.info("Unregistering chat handler for service[%s]",service);
  final ChatHandler handler=handlers.get(service);
  if (handler == null) {
    log.info("handler not currently registered, ignoring: %s",service);
  }
  try {
    serviceAnnouncer.unannounce(makeDruidNode(service));
  }
 catch (  Exception e) {
    log.warn(e,"Failed to unregister service: %s",service);
  }
  handlers.remove(service,handler);
}
