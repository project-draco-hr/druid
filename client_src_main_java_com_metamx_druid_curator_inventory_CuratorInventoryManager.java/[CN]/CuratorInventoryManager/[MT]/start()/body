{
synchronized (lock) {
    if (childrenCache != null) {
      return;
    }
    childrenCache=new PathChildrenCache(curatorFramework,config.getContainerPath(),true,true,new ShutdownNowIgnoringExecutorService(exec));
  }
  childrenCache.getListenable().addListener(new ContainerCacheListener());
  try {
    childrenCache.start();
  }
 catch (  Exception e) {
synchronized (lock) {
      try {
        stop();
      }
 catch (      IOException e1) {
        log.error(e1,"Exception when stopping InventoryManager that couldn't start.");
      }
    }
    throw e;
  }
}
