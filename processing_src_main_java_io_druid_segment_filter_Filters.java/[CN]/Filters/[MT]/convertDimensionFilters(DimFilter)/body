{
  if (dimFilter == null) {
    return null;
  }
  Filter filter=null;
  if (dimFilter instanceof AndDimFilter) {
    filter=new AndFilter(convertDimensionFilters(((AndDimFilter)dimFilter).getFields()));
  }
 else   if (dimFilter instanceof OrDimFilter) {
    filter=new OrFilter(convertDimensionFilters(((OrDimFilter)dimFilter).getFields()));
  }
 else   if (dimFilter instanceof NotDimFilter) {
    filter=new NotFilter(convertDimensionFilters(((NotDimFilter)dimFilter).getField()));
  }
 else   if (dimFilter instanceof SelectorDimFilter) {
    final SelectorDimFilter selectorDimFilter=(SelectorDimFilter)dimFilter;
    filter=new SelectorFilter(selectorDimFilter.getDimension(),selectorDimFilter.getValue());
  }
 else   if (dimFilter instanceof ExtractionDimFilter) {
    final ExtractionDimFilter extractionDimFilter=(ExtractionDimFilter)dimFilter;
    filter=new ExtractionFilter(extractionDimFilter.getDimension(),extractionDimFilter.getValue(),extractionDimFilter.getExtractionFn());
  }
 else   if (dimFilter instanceof RegexDimFilter) {
    final RegexDimFilter regexDimFilter=(RegexDimFilter)dimFilter;
    filter=new RegexFilter(regexDimFilter.getDimension(),regexDimFilter.getPattern());
  }
 else   if (dimFilter instanceof SearchQueryDimFilter) {
    final SearchQueryDimFilter searchQueryFilter=(SearchQueryDimFilter)dimFilter;
    filter=new SearchQueryFilter(searchQueryFilter.getDimension(),searchQueryFilter.getQuery());
  }
 else   if (dimFilter instanceof JavaScriptDimFilter) {
    final JavaScriptDimFilter javaScriptDimFilter=(JavaScriptDimFilter)dimFilter;
    filter=new JavaScriptFilter(javaScriptDimFilter.getDimension(),javaScriptDimFilter.getFunction());
  }
 else   if (dimFilter instanceof SpatialDimFilter) {
    final SpatialDimFilter spatialDimFilter=(SpatialDimFilter)dimFilter;
    filter=new SpatialFilter(spatialDimFilter.getDimension(),spatialDimFilter.getBound());
  }
 else   if (dimFilter instanceof InDimFilter) {
    final InDimFilter inDimFilter=(InDimFilter)dimFilter;
    final List<Filter> listFilters=Lists.transform(inDimFilter.getValues(),new Function<String,Filter>(){
      @Nullable @Override public Filter apply(      @Nullable String input){
        return new SelectorFilter(inDimFilter.getDimension(),input);
      }
    }
);
    filter=new OrFilter(listFilters);
  }
  return filter;
}
